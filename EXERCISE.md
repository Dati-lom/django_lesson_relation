# სავარჯიშო: Django ORM ოპტიმიზაცია და ფილტრები

## თეორიული კითხვები

უპასუხეთ შემდეგ კითხვებს მარტივად:

1. **რა არის `select_related`?**
   - რა ტიპის კავშირებისთვის გამოიყენება ის (ForeignKey, OneToOne, ManyToMany)?
   - როგორ ცვლის ის SQL მოთხოვნას (Query-ს)?

2. **რა არის `prefetch_related`?**
   - რით განსხვავდება ის `select_related`-ისგან?
   - რა ტიპის კავშირებისთვის არის ის საუკეთესო?

3. **რა არის "N+1 პრობლემა"?**
   - რატომ არის ის ცუდი ჩვენი ვებ-გვერდის სისწრაფისთვის?
   - როგორ გვეხმარება `select_related` და `prefetch_related` მის მოგვარებაში?

4. **ფილტრაცია (Filtering)**
   - როგორ ვიღებთ ბაზიდან მხოლოდ კონკრეტულ ჩანაწერებს? (მაგალითად: მხოლოდ ის ნივთები, რომლის ფასი მეტია 100-ზე).
   - რას აკეთებს `filter()` და `exclude()` მეთოდები?

---

## პრაქტიკული დავალება

ამ პროექტში მოცემულია მარტივი ონლაინ მაღაზიის სტრუქტურა (ნივთები, კატეგორიები, ტეგები, სურათები).

**მომზადება:**
1. დარწმუნდით რომ ვირტუალური გარემო (venv) გააქტიურებულია.
2. დააინსტალირეთ საჭირო ბიბლიოთეკები (თუ არ გაქვთ): `pip install django faker`


**დავალება:**
1. გახსენით ფაილი `products_app/views.py`.
2. იქ დაგხვდებათ 3 ფუნქცია (View), რომლებიც მუშაობს, მაგრამ **არაეფექტურად**. ისინი აკეთებენ ძალიან ბევრ მოთხოვნას ბაზაში (N+1 პრობლემა).
3. თქვენი მიზანია, გააუმჯობესოთ ეს ფუნქციები `select_related`-ის და `prefetch_related`-ის გამოყენებით.
4. მიჰყევით კომენტარებში არსებულ მინიშნებებს (TODO).

**შემოწმება:**
- გახსენით ბრაუზერში:
  - http://127.0.0.1:8000/items/
  - http://127.0.0.1:8000/categories/
- დააინსტალირეთ "Django Debug Toolbar" (ოპციონალურია, მაგრამ კარგია) ან უბრალოდ დააკვირდით კონსოლში SQL მოთხოვნებს, თუ ლოგირება ჩართულია, ან უბრალოდ ენდეთ თეორიას.

წარმატებები!

